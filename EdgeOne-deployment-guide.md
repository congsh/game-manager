# 腾讯云 EdgeOne Pages 部署指南

## 📋 部署前准备

### 环境检查
```bash
# 确认 Node.js 版本
node --version  # 应该是 v18 或更高

# 确认项目可以正常构建
npm run build

# 确认开发服务器正常
npm run dev
```

## 🔑 步骤 1：注册腾讯云账号

1. **访问腾讯云官网**：https://cloud.tencent.com/
2. **点击"立即注册"**
3. **选择注册方式**：
   - 手机号注册（推荐）
   - 邮箱注册
   - 微信扫码注册
4. **实名认证**：
   - 个人认证：身份证 + 银行卡
   - 企业认证：营业执照等

> 💡 **提示**：实名认证后才能使用 EdgeOne Pages 服务

## 🌐 步骤 2：开通 EdgeOne Pages

1. **登录腾讯云控制台**
2. **搜索 "EdgeOne"**
3. **点击 "站点加速" > "Pages"**
4. **开通服务**：
   ```
   免费额度：
   - 构建时长：1000分钟/月
   - 部署次数：100次/月
   - 带宽：100GB/月
   - 函数调用：100万次/月
   ```

## 📂 步骤 3：连接 GitHub 仓库

### 方法一：直接连接 GitHub（推荐）
1. **在 EdgeOne Pages 控制台点击 "新建站点"**
2. **选择 "从 Git 仓库导入"**
3. **授权 GitHub 账号**
4. **选择你的项目仓库**：`GroupManager/game-manager`

### 方法二：Fork 仓库（备选）
```bash
# 如果 GitHub 连接有问题，可以先 fork 到国内代码托管
# 支持的平台：
# - 码云 Gitee
# - 腾讯工蜂
# - Coding.net
```

## ⚙️ 步骤 4：配置构建参数

在 EdgeOne Pages 部署配置页面填写：

```yaml
# 基本配置
项目名称: game-manager
分支: main
根目录: /

# 构建配置
构建命令: npm run build
构建输出目录: .next
Node.js 版本: 18.x

# 环境变量（稍后配置）
NODE_ENV: production
```

### 高级配置
```javascript
// 如果需要自定义配置，可以使用 edgeone.config.js
// 已经创建在项目根目录中
```

## 🚀 步骤 5：首次部署

1. **点击 "开始部署"**
2. **等待构建完成**：
   ```
   预期时间：3-5分钟
   构建日志：可实时查看
   ```
3. **获取访问链接**：
   ```
   临时域名：xxx.edgeone.app
   状态：部署成功
   ```

## 🔗 步骤 6：域名配置（可选）

### 使用自定义域名
1. **在 EdgeOne 控制台添加域名**
2. **配置 DNS 解析**：
   ```dns
   类型: CNAME
   主机记录: @（或子域名）
   记录值: xxx.edgeone.app
   ```
3. **SSL 证书**：
   - 自动申请（推荐）
   - 手动上传

### 域名解析商配置
```bash
# 阿里云 DNS
域名管理 → 解析设置 → 添加记录

# 腾讯云 DNS  
域名注册 → 我的域名 → 解析

# Cloudflare
DNS → Records → Add Record
```

## 📊 步骤 7：性能测试

### 国内访问测试
```bash
# 使用多个测试工具
1. Ping 测试：ping your-domain.com
2. 网速测试：http://www.webkaka.com/
3. 多地域测试：http://ce.cloud.360.cn/
```

### 功能测试清单
- [ ] 首页加载正常
- [ ] 用户登录功能
- [ ] 游戏报名功能  
- [ ] 数据持久化测试
- [ ] API 接口响应
- [ ] 移动端适配

## 🔄 步骤 8：配置自动部署

EdgeOne Pages 会自动监听 GitHub 仓库变化：

```yaml
触发条件:
  - Push 到 main 分支
  - 创建 Pull Request
  - 合并 Pull Request

部署策略:
  - 生产环境：main 分支
  - 预览环境：其他分支
```

## 🛠️ 故障排除

### 常见问题

1. **构建失败**
   ```bash
   # 检查 Node.js 版本
   # 检查依赖安装
   # 查看构建日志
   ```

2. **API 路由 404**
   ```javascript
   // 确保 API 路径正确
   // 检查 functions 配置
   ```

3. **静态资源加载失败**
   ```javascript
   // 检查 next.config.ts 配置
   // 确认资源路径
   ```

## 📈 性能优化建议

1. **启用 CDN 加速**
2. **配置缓存策略**
3. **压缩静态资源**
4. **使用 WebP 图片格式**

## 💰 费用说明

```yaml
免费额度:
  构建时长: 1000分钟/月
  带宽: 100GB/月
  函数调用: 100万次/月
  
超出费用:
  构建: ¥0.05/分钟
  带宽: ¥0.8/GB
  函数: ¥1.33/100万次
```

对于你们 20-30 人的群组，免费额度完全够用！

## 🎯 下一步

部署成功后，建议：
1. 测试所有功能
2. 邀请朋友体验速度
3. 配置监控告警
4. 准备数据库升级

有问题随时问我！🚀 